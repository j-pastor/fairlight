[gd_scene load_steps=20 format=4 uid="uid://btmuuwth4o2c1"]

[ext_resource type="TileSet" uid="uid://dlx3psaetvnhp" path="res://tileset/tiles.tres" id="1_4i63u"]
[ext_resource type="Texture2D" uid="uid://chmulpsbrfqs3" path="res://assets/tiles/floor-029.png" id="2_4i63u"]
[ext_resource type="Texture2D" uid="uid://budsgn6jehtki" path="res://assets/steps/step-right-04-short.png" id="3_kcs78"]
[ext_resource type="Texture2D" uid="uid://bop1gellcdt4i" path="res://assets/textures/wood-02.png" id="3_ma8lm"]
[ext_resource type="Texture2D" uid="uid://dv4cdnp52fsx0" path="res://assets/steps/step-right-03-short.png" id="4_g0dt7"]
[ext_resource type="Texture2D" uid="uid://bpt83xeat0cvm" path="res://assets/doors/door-010-right-closed.png" id="4_oww6q"]
[ext_resource type="Texture2D" uid="uid://dyccya4bi77aa" path="res://assets/steps/step-right-02-short.png" id="5_c3e3w"]
[ext_resource type="Texture2D" uid="uid://cu761udk8bv5j" path="res://assets/steps/step-right-01-short.png" id="6_tw3uj"]
[ext_resource type="Texture2D" uid="uid://d3fvgheg1xcvt" path="res://assets/steps/step-right-05-short.png" id="7_ma8lm"]
[ext_resource type="Texture2D" uid="uid://di5k2wv837lhx" path="res://assets/decoration/torch-001-left.png" id="14_3sj4a"]
[ext_resource type="PackedScene" uid="uid://bcyda0at2vyth" path="res://scenes/characters/monk.tscn" id="14_g0dt7"]
[ext_resource type="Texture2D" uid="uid://cmmxm51lgdtkc" path="res://assets/decoration/torch-002-left.png" id="15_dyxf6"]
[ext_resource type="Texture2D" uid="uid://b0o6bbpwxn0sg" path="res://assets/decoration/torch-003-left.png" id="16_xb1fy"]
[ext_resource type="Texture2D" uid="uid://ba0x454ale4hk" path="res://assets/decoration/glow_torch.png" id="16_xnr32"]
[ext_resource type="Texture2D" uid="uid://xfywnlsiajlf" path="res://assets/decoration/torch-004-left.png" id="17_p7epi"]
[ext_resource type="Texture2D" uid="uid://be7ymby6y0l7n" path="res://assets/doors/door-005-right-open.png" id="17_xb1fy"]
[ext_resource type="Texture2D" uid="uid://d124st1i5ba8" path="res://assets/decoration/rune-005-right.png" id="18_dyxf6"]
[ext_resource type="Texture2D" uid="uid://c3376s2up08a4" path="res://assets/decoration/window-y-001-bis.png" id="19_hb52g"]

[sub_resource type="SpriteFrames" id="SpriteFrames_osqqu"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": ExtResource("14_3sj4a")
}, {
"duration": 1.0,
"texture": ExtResource("15_dyxf6")
}, {
"duration": 1.0,
"texture": ExtResource("16_xb1fy")
}, {
"duration": 1.0,
"texture": ExtResource("17_p7epi")
}],
"loop": true,
"name": &"default",
"speed": 8.0
}]

[node name="RoomElements" type="Node2D"]
z_as_relative = false
metadata/wall_levels = 8
metadata/tile_rr = Vector2i(-4, -2)
metadata/size = Vector2(35, 150)
metadata/north = "none"
metadata/south = "none"
metadata/west = "none"
metadata/east = "none"
metadata/north_offset = Vector3(0, 0, 0)
metadata/south_offset = Vector3(0, 0, 0)
metadata/west_offset = Vector3(0, 0, 0)
metadata/east_offset = Vector3(0, 0, 0)
metadata/fire = true
metadata/light = 0.6

[node name="origin" type="Marker2D" parent="."]
position = Vector2(-30, -90)

[node name="Camera" type="Camera2D" parent="."]
position = Vector2(-85, -91)

[node name="Layers" type="Node2D" parent="."]

[node name="Layer_floor_1" type="TileMapLayer" parent="Layers"]
z_as_relative = false
tile_map_data = PackedByteArray("AAD8/wIAXAAAAAAAAAD9/wIAXAAAAAAAAAA=")
tile_set = ExtResource("1_4i63u")

[node name="Polygon2D5" type="Polygon2D" parent="Layers"]
position = Vector2(2310.4233, -141.94936)
scale = Vector2(15.509054, 7.24371)
color = Color(0, 0, 0, 1)
polygon = PackedVector2Array(-150, -1, -150, 3, -152, 3, -152, -1)

[node name="Layer_wall_1" type="TileMapLayer" parent="Layers"]
z_as_relative = false
tile_map_data = PackedByteArray("AAD7/wAABAAAAAAAAAD7////BAAAAAAAAAD7//7/BAAAAAAAAAD7/wEANgAAAAAAAAD7/wIABAAAAAAAAAD8//3/BQAAAAAAAAD9//3/BQAAAAAAAAA=")
tile_set = ExtResource("1_4i63u")

[node name="Layer_wall_2" type="TileMapLayer" parent="Layers"]
z_as_relative = false
position = Vector2(0, -20)
tile_map_data = PackedByteArray("AAD7/wAABAAAAAAAAAD7////NgAAAAAAAAD7//7/BAAAAAAAAAD8//3/BQAAAAAAAAD7/wEABAAAAAAAAAD7/wIABAAAAAAAAAD9//3/BQAAAAAAAAA=")
tile_set = ExtResource("1_4i63u")

[node name="Layer_wall_3" type="TileMapLayer" parent="Layers"]
z_as_relative = false
position = Vector2(0, -40)
tile_map_data = PackedByteArray("AAD7/wAABAAAAAAAAAD7////BAAAAAAAAAD9//3/BQAAAAAAAAD8//3/BQAAAAAAAAD7//7/BAAAAAAAAAD7/wEABAAAAAAAAAD7/wIABAAAAAAAAAA=")
tile_set = ExtResource("1_4i63u")

[node name="Layer_wall_4" type="TileMapLayer" parent="Layers"]
z_as_relative = false
position = Vector2(0, -60)
tile_map_data = PackedByteArray("AAD9//3/NAAAAAAAAAD7/wAABAAAAAAAAAD7////BAAAAAAAAAD8//3/NAAAAAAAAAD7//7/BAAAAAAAAAD7/wEABAAAAAAAAAD7/wIABAAAAAAAAAA=")
tile_set = ExtResource("1_4i63u")

[node name="Layer_wall_5" type="TileMapLayer" parent="Layers"]
z_as_relative = false
position = Vector2(0, -80)
tile_map_data = PackedByteArray("AAD9//3/BQAAAAAAAAD7/wAABAAAAAAAAAD7////BAAAAAAAAAD7//7/BAAAAAAAAAD8//3/BQAAAAAAAAD7/wEABAAAAAAAAAD7/wIABAAAAAAAAAA=")
tile_set = ExtResource("1_4i63u")

[node name="Layer_wall_6" type="TileMapLayer" parent="Layers"]
z_as_relative = false
position = Vector2(0, -100)
tile_map_data = PackedByteArray("AAD9//3/BQAAAAAAAAD7/wAABAAAAAAAAAD7////BAAAAAAAAAD7//7/BAAAAAAAAAD8//3/BQAAAAAAAAD7/wEABAAAAAAAAAD7/wIABAAAAAAAAAA=")
tile_set = ExtResource("1_4i63u")

[node name="Polygons" type="Node2D" parent="Layers"]

[node name="Polygon2D3" type="Polygon2D" parent="."]
position = Vector2(3306.5662, -138.6646)
scale = Vector2(21.34232, 30.75)
color = Color(0, 0, 0, 1)
polygon = PackedVector2Array(-149.6616, -3.3540907, -149.71458, 2.0816195, -160.30182, 5.1980324, -161.94516, 4.616834, -161.3004, 4.3985434, -162.90938, 3.7306497, -157.44933, 1.7875903, -156.66136, 1.1763632, -154.6399, 0.48756075, -154.6489, -4.3361106, -150.47884, -3.9783876)

[node name="Polygon2D4" type="Polygon2D" parent="."]
position = Vector2(1286, -6.000004)
scale = Vector2(9.975918, 4.2231126)
color = Color(0, 0, 0, 1)
polygon = PackedVector2Array(-150, -1, -150, 3, -152, 3, -152, -1)

[node name="Polygon2D2" type="Polygon2D" parent="."]
position = Vector2(2956, -88.00001)
scale = Vector2(21.34232, 30.75)
color = Color(0, 0, 0, 1)
polygon = PackedVector2Array(-149.63544, -3.3605015, -149.63544, 2.005352, -152, 3, -152, -1, -151.30368, -3.275515)

[node name="Floor029" type="Sprite2D" parent="."]
position = Vector2(-121.02707, -54.26211)
texture = ExtResource("2_4i63u")

[node name="Floor030" type="Sprite2D" parent="."]
position = Vector2(-115.02707, -57.26211)
texture = ExtResource("2_4i63u")

[node name="Floor031" type="Sprite2D" parent="."]
position = Vector2(-116.02707, -52.262115)
texture = ExtResource("2_4i63u")

[node name="Floor032" type="Sprite2D" parent="."]
position = Vector2(-115.02707, -53.262115)
texture = ExtResource("2_4i63u")

[node name="Floor033" type="Sprite2D" parent="."]
position = Vector2(-81.02707, -85.262115)
texture = ExtResource("2_4i63u")

[node name="Floor034" type="Sprite2D" parent="."]
position = Vector2(-75.02707, -88.262115)
texture = ExtResource("2_4i63u")

[node name="Floor035" type="Sprite2D" parent="."]
position = Vector2(-76.02707, -83.262115)
texture = ExtResource("2_4i63u")

[node name="Floor036" type="Sprite2D" parent="."]
position = Vector2(-73.02707, -84.262115)
texture = ExtResource("2_4i63u")

[node name="Floor037" type="Sprite2D" parent="."]
position = Vector2(-36.02707, -122.262115)
texture = ExtResource("2_4i63u")

[node name="Floor038" type="Sprite2D" parent="."]
position = Vector2(-30.02707, -125.262115)
texture = ExtResource("2_4i63u")

[node name="Floor039" type="Sprite2D" parent="."]
position = Vector2(-31.02707, -120.262115)
texture = ExtResource("2_4i63u")

[node name="Floor040" type="Sprite2D" parent="."]
position = Vector2(-25.02707, -123.262115)
texture = ExtResource("2_4i63u")

[node name="Polygons" type="Node2D" parent="."]

[node name="floor" type="Polygon2D" parent="Polygons"]
visible = false
position = Vector2(-118.368, -225.27022)
texture = ExtResource("3_ma8lm")
polygon = PackedVector2Array(-0.30799103, 149.46123, -40.0654, 168.78154, 4.494171, 190.4471, 41.459625, 170.45671)
uv = PackedVector2Array(219.53952, 190.43193, 127.82182, 236.32947, 147.96132, 246.44965, 206.13356, 217.48322, 340.24698, 283.21976, 370.92163, 266.46356)
metadata/type = "floor"
metadata/z = 24

[node name="floor5" type="Polygon2D" parent="Polygons"]
visible = false
position = Vector2(-78.368, -255.2702)
texture = ExtResource("3_ma8lm")
polygon = PackedVector2Array(-0.30799103, 149.46123, -40.0654, 168.78154, 4.494171, 190.4471, 41.459625, 170.45671)
uv = PackedVector2Array(219.53952, 190.43193, 127.82182, 236.32947, 147.96132, 246.44965, 206.13356, 217.48322, 340.24698, 283.21976, 370.92163, 266.46356)
metadata/type = "floor"
metadata/z = 34

[node name="floor6" type="Polygon2D" parent="Polygons"]
visible = false
position = Vector2(-33.367996, -292.2702)
texture = ExtResource("3_ma8lm")
polygon = PackedVector2Array(8.738754, 144.62256, -40.0654, 168.78154, 4.494171, 190.4471, 50.64583, 165.30632)
uv = PackedVector2Array(219.53952, 190.43193, 127.82182, 236.32947, 147.96132, 246.44965, 206.13356, 217.48322, 340.24698, 283.21976, 370.92163, 266.46356)
metadata/type = "floor"
metadata/z = 49

[node name="FixedObjects" type="Node2D" parent="."]

[node name="door-to-final-room" type="Sprite2D" parent="FixedObjects"]
position = Vector2(-11.688278, -151.41055)
scale = Vector2(1, 1.1)
texture = ExtResource("4_oww6q")
metadata/type = "door"
metadata/size = Vector3(22, 8, 40)
metadata/pos = Vector3(0, 0, 50)
metadata/target = "x-tower-final-room"
metadata/target_pos = Vector3(4.558, 82, 20)
metadata/target_direction = "right"
metadata/key = "key-tower-5"
metadata/has_frame = true

[node name="torch3" type="AnimatedSprite2D" parent="FixedObjects"]
position = Vector2(-56, -157)
sprite_frames = SubResource("SpriteFrames_osqqu")
autoplay = "default"
metadata/type = "fixed"
metadata/size = Vector3(6, 3, 15)
metadata/pos = Vector3(0, 0, 80)

[node name="Step-right-12" type="Sprite2D" parent="FixedObjects"]
position = Vector2(-51, -104.30002)
texture = ExtResource("4_g0dt7")
metadata/type = "step-5"
metadata/size = Vector3(42, 4, 15)
metadata/pos = Vector3(0, 0, 35)
metadata/orientation = "westeast"

[node name="Step-right-13" type="Sprite2D" parent="FixedObjects"]
position = Vector2(-55, -100)
texture = ExtResource("5_c3e3w")
metadata/type = "step-5"
metadata/size = Vector3(43, 4, 10)
metadata/pos = Vector3(0, 0, 35)
metadata/orientation = "westeast"

[node name="Step-right-14" type="Sprite2D" parent="FixedObjects"]
position = Vector2(-59, -95.69998)
texture = ExtResource("6_tw3uj")
metadata/type = "step-5"
metadata/size = Vector3(43, 4, 5)
metadata/pos = Vector3(0, 0, 35)
metadata/orientation = "westeast"

[node name="Step-right-10" type="Sprite2D" parent="FixedObjects"]
position = Vector2(-96, -70)
texture = ExtResource("5_c3e3w")
metadata/type = "step-5"
metadata/size = Vector3(43, 4, 10)
metadata/pos = Vector3(0, 0, 25)
metadata/orientation = "westeast"

[node name="Step-right-11" type="Sprite2D" parent="FixedObjects"]
position = Vector2(-100, -65.69998)
texture = ExtResource("6_tw3uj")
metadata/type = "step-5"
metadata/size = Vector3(43, 4, 5)
metadata/pos = Vector3(0, 0, 25)
metadata/orientation = "westeast"

[node name="Step-right-05" type="Sprite2D" parent="FixedObjects"]
position = Vector2(-136, -31.899994)
texture = ExtResource("7_ma8lm")
metadata/type = "step-5"
metadata/size = Vector3(42, 4, 25)
metadata/pos = Vector3(0, 0, 0)
metadata/orientation = "westeast"

[node name="Step-right-06" type="Sprite2D" parent="FixedObjects"]
position = Vector2(-140, -27.600006)
texture = ExtResource("3_kcs78")
metadata/type = "step-5"
metadata/size = Vector3(42, 4, 20)
metadata/pos = Vector3(0, 0, 0)
metadata/orientation = "westeast"

[node name="Step-right-07" type="Sprite2D" parent="FixedObjects"]
position = Vector2(-144, -23.300018)
texture = ExtResource("4_g0dt7")
metadata/type = "step-5"
metadata/size = Vector3(42, 4, 15)
metadata/pos = Vector3(0, 0, 0)
metadata/orientation = "westeast"

[node name="Step-right-08" type="Sprite2D" parent="FixedObjects"]
position = Vector2(-148, -19)
texture = ExtResource("5_c3e3w")
metadata/type = "step-5"
metadata/size = Vector3(43, 4, 10)
metadata/pos = Vector3(0, 0, 0)
metadata/orientation = "westeast"

[node name="Step-right-09" type="Sprite2D" parent="FixedObjects"]
position = Vector2(-152, -14.699982)
texture = ExtResource("6_tw3uj")
metadata/type = "step-5"
metadata/size = Vector3(43, 4, 5)
metadata/pos = Vector3(0, 0, 0)
metadata/orientation = "westeast"

[node name="door-to-spiral" type="Sprite2D" parent="FixedObjects"]
position = Vector2(-164.05609, -26.913513)
texture = ExtResource("17_xb1fy")
metadata/type = "door"
metadata/size = Vector3(22, 3, 40)
metadata/pos = Vector3(0, 0, 0)
metadata/target = "x-tower-hallway-spiral"
metadata/target_pos = Vector3(5.386, -1.688, 40)
metadata/target_direction = "left"
metadata/has_frame = true
metadata/key = "key-tower-4"

[node name="Rune005Right" type="Sprite2D" parent="FixedObjects"]
position = Vector2(-12.114456, -183.79211)
texture = ExtResource("18_dyxf6")

[node name="Characters" type="Node2D" parent="."]

[node name="monk" parent="Characters" instance=ExtResource("14_g0dt7")]
position = Vector2(-19.498062, -141.05875)
animation = &"walk-left"
metadata/subtype = "monk-static"
metadata/size = Vector3(6, 6, 34)
metadata/uid = "monk-x-final"
metadata/direction_init = "left"
metadata/z_init = 50.0
metadata/disabled_door = "door-to-final-room"

[node name="Window004Left" type="Sprite2D" parent="."]
position = Vector2(-154, -108)
texture = ExtResource("19_hb52g")

[node name="GlowTorch3" type="PointLight2D" parent="."]
self_modulate = Color(0.00820202, 0.00820202, 0.00820202, 1)
position = Vector2(-154.5234, -108.74786)
energy = 0.4
shadow_enabled = true
shadow_filter = 2
texture = ExtResource("16_xnr32")

[node name="Window004Left2" type="Sprite2D" parent="."]
position = Vector2(-102, -134)
texture = ExtResource("19_hb52g")

[node name="GlowTorch4" type="PointLight2D" parent="."]
self_modulate = Color(0.00820202, 0.00820202, 0.00820202, 1)
position = Vector2(-102.52341, -134.74786)
energy = 0.4
shadow_enabled = true
shadow_filter = 2
texture = ExtResource("16_xnr32")

[node name="GlowTorch5" type="PointLight2D" parent="."]
self_modulate = Color(0.00820202, 0.00820202, 0.00820202, 1)
position = Vector2(-55.523407, -160.74788)
color = Color(1, 0.768627, 0.537255, 1)
energy = 0.91
shadow_enabled = true
shadow_filter = 2
texture = ExtResource("16_xnr32")
texture_scale = 1.5

[node name="NonFixedObjects" type="Node2D" parent="."]
